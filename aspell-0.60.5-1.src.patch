diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/aspell-0.60.5/Makefile.am src/aspell-0.60.5/Makefile.am
--- origsrc/aspell-0.60.5/Makefile.am	2006-12-10 21:36:41.000000000 -0600
+++ src/aspell-0.60.5/Makefile.am	2007-12-11 09:40:26.908890500 -0600
@@ -129,6 +129,8 @@
 
 aspell_SOURCES = prog/aspell.cpp prog/check_funs.cpp prog/checker_string.cpp
 
+aspell_CXXFLAGS = $(CURSES_INCLUDE)
+
 aspell_LDADD = libaspell.la $(CURSES_LIB)
 
 prezip_bin_SOURCES = prog/prezip.c
@@ -194,7 +196,7 @@
 else # not COMPILE_IN_FILTERS
 
 dynamic_optfiles += ${optfiles}
-filter_ldflags = -module -avoid-version
+filter_ldflags = -module -avoid-version -no-undefined
 
 ### Add name of filter library containing your filter. Name always
 ### must look like lib<filtername>-filter.la see development manual
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/aspell-0.60.5/lib/new_filter.cpp src/aspell-0.60.5/lib/new_filter.cpp
--- origsrc/aspell-0.60.5/lib/new_filter.cpp	2005-06-19 19:15:15.000000000 -0500
+++ src/aspell-0.60.5/lib/new_filter.cpp	2007-12-11 09:01:08.272048500 -0600
@@ -456,13 +456,23 @@
     assert(slash);
     if (module->file.empty()) {
       module->file.assign(option_file.str(), slash + 1 - option_file.str());
-      //module->file += "lib";
+#ifdef __CYGWIN__
+      module->file += "cyg";
+      module->file += filter_name;
+      module->file += "-filter.dll";
+#else
+      module->file += "lib";
       module->file += filter_name;
       module->file += "-filter.so";
+#endif
     } else {
       if (module->file[0] != '/')
         module->file.insert(0, option_file.str(), slash + 1 - option_file.str());
+#ifdef __CYGWIN__
+      module->file += ".dll";
+#else
       module->file += ".so";
+#endif
     }
 
     return module.release();
